<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="content-type" content="text/html;charset=utf-8">
        <title>Ng App Unit Tests</title>
        <link rel="stylesheet" href="node_modules/jasmine.css">
        <script src="node_modules/jasmine.js"></script>
        <script src="node_modules/jasmine-html.js"></script>
        <script src="node_modules/boot.js"></script>
        <script src="node_modules/system-polyfills.js"></script>
        <script src="node_modules/system.src.js"></script>
        <script src="https://code.angularjs.org/tools/typescript.js"></script>
        <script src="https://code.angularjs.org/2.0.0-beta.13/angular2-polyfills.js"></script>
        <script src="https://code.angularjs.org/2.0.0-beta.13/Rx.js"></script>
        <script src="https://code.angularjs.org/2.0.0-beta.13/angular2.dev.js"></script>

        <!--script src="test1Spec.js"></script-->

        <script src="app/app.component.js"></script>
        <script src="app/test/app.componentSpec.js"></script>


        <!--script src="../../../ts-app/src/app.componentSpec.ts"></script-->
    </head>

    <body>
        <!-- #1. add the system.js library -->


        <script>
            // #2. Configure systemjs to use the .js extension
            //     for imports from the app folder
            System.config({
                packages: {
                    'app': {defaultExtension: 'js'}
                }
            });
            //System.config({
            //transpiler: 'typescript',
            //typescriptOptions: {emitDecoratorMetadata: true},
            // packages: {'app': {defaultExtension: 'js'}}
            // });

            // #3. Import the spec file explicitly
            //System.import('../../../ts-app/src/app.componentSpec')
            /*
             System.import(
             'app/test/app.componentSpec'
             )
             
             // #4. wait for all imports to load ...
             //     then re-execute `window.onload` which
             //     triggers the Jasmine test-runner start
             //     or explain what went wrong.
             .then(window.onload)
             .catch(console.error.bind(console));
             */
            Promise.all([
                System.import('app/test/app.componentSpec')//,
                //System.import('app/init-caps-pipe.spec')
            ])

                    // #4. wait for all imports to load ...
                    //     then re-execute `window.onload` which
                    //     triggers the Jasmine test-runner start
                    //     or explain what went wrong.
                    .then(window.onload)
                    .catch(console.error.bind(console));
        </script>
    </body>

</html>